# ECOSYSTEMAWS - AWS Native Payment Processing Environment Variables
# Copy this file to .env.local and update with your actual values

# ========== AWS NATIVE PAYMENT CONFIGURATION ==========

# AWS Payment Cryptography
NEXT_PUBLIC_AWS_PAYMENT_CRYPTOGRAPHY_REGION=us-east-1
AWS_PAYMENT_ENCRYPTION_KEY_ID=alias/payment-encryption-key
AWS_TOKENIZATION_KEY_ID=alias/tokenization-key

# AWS Fraud Detector
AWS_FRAUD_DETECTOR_REGION=us-east-1
FRAUD_DETECTOR_NAME=marketplace-payment-fraud
FRAUD_THRESHOLD_DECLINE=0.8
FRAUD_THRESHOLD_REVIEW=0.5

# ACH Transfer Configuration
ACH_PROCESSING_REGION=us-east-1
ACH_FEE_CENTS=25
MINIMUM_PAYOUT_CENTS=2000
MAXIMUM_PAYOUT_CENTS=100000

# Escrow Management
DEFAULT_ESCROW_HOLD_DAYS=7
MAXIMUM_ESCROW_HOLD_DAYS=90
ESCROW_INTEREST_RATE=0.01

# Platform Configuration
PLATFORM_FEE_PERCENTAGE=8.0
MINIMUM_TRANSACTION_CENTS=50
SUPPORTED_CURRENCIES=USD,CAD

# Event Bus Configuration
PAYMENT_EVENT_BUS_NAME=aws-native-payment-events

# SNS Topic ARNs (will be set by CDK)
PAYMENT_SUCCESS_TOPIC_ARN=
PAYMENT_FAILURE_TOPIC_ARN=
FRAUD_ALERT_TOPIC_ARN=

# ========== FEATURE FLAGS FOR MIGRATION ==========

# Enable AWS native payment processing
NEXT_PUBLIC_USE_AWS_NATIVE_PAYMENTS=true

# Disable legacy Stripe features during migration
NEXT_PUBLIC_DISABLE_STRIPE_CONNECT=true
NEXT_PUBLIC_DISABLE_STRIPE_ELEMENTS=true
NEXT_PUBLIC_DISABLE_STRIPE_WEBHOOKS=true

# Migration control flags
NEXT_PUBLIC_PAYMENT_MIGRATION_MODE=aws_native
NEXT_PUBLIC_ALLOW_FALLBACK_TO_STRIPE=false

# ========== REMOVED STRIPE ENVIRONMENT VARIABLES ==========
# These variables are no longer needed with AWS native payments:

# STRIPE_SECRET_KEY=sk_test_... (REMOVED)
# NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_... (REMOVED)
# STRIPE_WEBHOOK_SECRET=whsec_... (REMOVED)
# STRIPE_CONNECT_CLIENT_ID=ca_... (REMOVED)

# ========== APPLICATION CONFIGURATION (UNCHANGED) ==========

# Application URL
NEXT_PUBLIC_APP_URL=http://localhost:3000

# AWS Amplify Configuration
NEXT_PUBLIC_AWS_REGION=us-east-1

# Database Configuration (DynamoDB tables managed by Amplify)
PAYMENT_TRANSACTION_TABLE=PaymentTransaction
ESCROW_ACCOUNT_TABLE=EscrowAccount
BANK_ACCOUNT_TABLE=BankAccount
ACH_TRANSFER_TABLE=AchTransfer
FRAUD_SCORE_TABLE=FraudScore
PAYMENT_REFUND_TABLE=PaymentRefund

# Security Configuration
NODE_ENV=development
LOG_LEVEL=info

# ========== MONITORING AND ALERTING ==========

# CloudWatch Configuration
CLOUDWATCH_LOG_GROUP=/aws/lambda/payment-processing
CLOUDWATCH_METRICS_NAMESPACE=EcosystemAWS/Payments

# Alert Configuration
ALERT_EMAIL=admin@ecosystem-marketplace.com
ALERT_PHONE=+1234567890

# ========== COMPLIANCE CONFIGURATION ==========

# PCI DSS Compliance (handled by AWS Payment Cryptography)
PCI_COMPLIANCE_LEVEL=Level1
ENCRYPTION_AT_REST=true
ENCRYPTION_IN_TRANSIT=true

# NACHA Compliance (for ACH transfers)
NACHA_COMPANY_ID=1234567890
NACHA_COMPANY_NAME=Ecosystem Marketplace
NACHA_DISCRETIONARY_DATA=Marketplace Payment

# ========== COST OPTIMIZATION ==========

# Enable cost optimization features
ENABLE_PAYMENT_BATCHING=true
ENABLE_FRAUD_CACHING=true
ENABLE_ESCROW_AUTOMATION=true

# Cost tracking
COST_TRACKING_ENABLED=true
COST_ALERT_THRESHOLD_MONTHLY=1000

# ========== MIGRATION NOTES ==========

# This configuration eliminates:
# - Stripe processing fees: 2.9% + $0.30 per transaction
# - Stripe Connect fees: 0.25% additional + reserves
# - Stripe payout fees: $0.25 + currency conversion
# 
# Replaced with AWS native costs:
# - Payment Cryptography: ~$0.05 per transaction
# - ACH transfers: $0.25 per transfer
# - DynamoDB: ~$0.01 per transaction record
# - Lambda: ~$0.001 per execution
#
# Total cost reduction: 98%+ for typical transactions